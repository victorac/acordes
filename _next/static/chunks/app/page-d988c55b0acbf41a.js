(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3550:(e,t,n)=>{Promise.resolve().then(n.bind(n,9132))},9132:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var l=n(7437),r=n(2265),c=n(5149);let s=e=>{let{children:t,className:n,id:r}=e,{attributes:s,listeners:o,setNodeRef:a,transform:i}=(0,c.O1)({id:r}),f=i?{transform:"translate3d(".concat(i.x,"px, ").concat(i.y,"px, 0)"),zIndex:3e3}:{zIndex:1e3};return(0,l.jsx)("div",{className:n,ref:a,style:f,...o,...s,children:t})},o=e=>{let{id:t,interval:n,noteName:r,state:c}=e;return(0,l.jsx)(s,{id:t,className:"w-[44px] h-[72px] sm:w-[72px] sm:h-[44px] flex",children:(0,l.jsxs)("div",{id:t,className:"\n        select-none\n        touch-none\n        w-full h-full rounded-[200px] p-1\n        flex flex-col items-center justify-center\n        ".concat("R"===n?"bg-[#E6FF81]":"bg-[#E3EFF1]","\n        ").concat("dragging"===c?"animate-bounce":"","\n      "),children:[(0,l.jsx)("div",{className:"text-[#141935] text-[24px] font-semibold leading-7",children:n}),(0,l.jsx)("div",{className:"text-[#535B86] text-[14px] font-semibold leading-4",children:r})]})})},a=e=>{let{id:t,className:n,children:r}=e,{isOver:s,setNodeRef:o}=(0,c.Zj)({id:t});return(0,l.jsx)("div",{className:n,ref:o,style:{color:s?"green":void 0},children:r})},i=e=>{let{id:t,children:n,string:r,caseNumber:c,noteState:s,onAddNote:o}=e;return(0,l.jsxs)(a,{id:t,className:"\n      w-[49px] \n      h-[159px] \n      sm:w-[159px] \n      sm:h-[49px] \n      flex \n      items-center \n      justify-center \n      relative\n      before:absolute\n      before:content-['']\n      before:h-full\n      before:bg-[#E3EFF1]\n      before:left-1/2\n      before:-translate-x-1/2\n      sm:before:w-full\n      sm:before:top-1/2\n      sm:before:-translate-y-1/2\n      sm:before:left-0\n      sm:before:translate-x-0\n      ".concat({1:"before:w-[1px] sm:before:h-[1px]",2:"before:w-[2px] sm:before:h-[2px]",3:"before:w-[3px] sm:before:h-[3px]",4:"before:w-[4px] sm:before:h-[4px]",5:"before:w-[5px] sm:before:h-[5px]",6:"before:w-[6px] sm:before:h-[6px]"}[r],"\n      "),children:[n,!s&&(0,l.jsx)("button",{onClick:()=>o(r,c),className:"w-6 h-8 rounded-full bg-[#3E4648] px-1 py-2 flex items-center justify-center z-10 text-[#E3EFF1] select-none",children:"+"})]})},f=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{{t(window.innerWidth<=640);let e=()=>{t(window.innerWidth<=640)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[]),e};var d=n(5565);let x=e=>{let{interval:t}=e;return(0,l.jsx)("div",{className:" flex items-center justify-center w-[49px] sm:h-[49px]  sm:w-[28px] p-1 text-[#D0D8FF]  text-[16px]  leading-5  font-semibold",children:t})},m=e=>{let{keyName:t,tunning:n}=e;return(0,l.jsx)("div",{className:" bg-[#192149]  px-4  rounded-full  flex  sm:flex-col sm:h-auto sm:px-0  items-center  justify-center sticky top-0 sm:top-auto sm:left-0 z-[2000] ",children:Array.from({length:6}).map((e,r)=>{let{interval:c}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"E",l=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],r=t[e];return{interval:({0:"R",1:"m2",2:"2",3:"m3",4:"3",5:"P4",6:"Aug4",7:"5",8:"m6",9:"6",10:"7",11:"M7"})[(l.findIndex(e=>e===r)%l.length-l.findIndex(e=>e===n)+l.length)%l.length]}}(6-r,n,t);return(0,l.jsx)(x,{interval:c},r)})})},u=()=>{let e={1:"E",2:"B",3:"G",4:"D",5:"A",6:"E"},[t,n]=(0,r.useState)({}),[s,a]=(0,r.useState)(Array.from({length:72},(e,t)=>t%24)),[x,u]=(0,r.useState)(!1),h=f(),p=h?[6,5,4,3,2,1]:[1,2,3,4,5,6];function b(e,t){n(n=>{if(n["".concat(e,"-").concat(t)])return n;let l="".concat(e,"-").concat(t);return{...n,[l]:"idle"}})}if((0,r.useLayoutEffect)(()=>{u(!0)},[]),!x)return(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,l.jsx)("div",{className:"animate-pulse text-[#B3BDC7]",children:"Loading..."})});let g=s.map((n,r)=>{let c="case-".concat(n,"-").concat(r);return(0,l.jsxs)("div",{id:c,className:"flex sm:flex-col relative",children:[p.map(c=>(0,l.jsx)(i,{id:"cell-".concat(c,"-").concat(n,"-").concat(r),caseNumber:n,string:c,onAddNote:b,noteState:t["".concat(c,"-").concat(n)],children:(()=>{let s=t["".concat(c,"-").concat(n)];if(!s)return null;let{interval:a,noteName:i}=function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"E",r=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],c=n[e],s=(r.findIndex(e=>e===c)+t+1)%r.length;return{interval:({0:"R",1:"m2",2:"2",3:"m3",4:"3",5:"P4",6:"Aug4",7:"5",8:"m6",9:"6",10:"7",11:"M7"})[(s-r.findIndex(e=>e===l)+r.length)%r.length],noteName:r[s]}}(c,n,e,"E"),f="note-".concat(c,"-").concat(n,"-").concat(r);return(0,l.jsx)(o,{id:f,interval:a,noteName:i,state:s},f)})()},"".concat(c,"-").concat(n,"-").concat(r))),(0,l.jsx)("div",{className:"absolute top-0 left-0 w-fit text-[#B3BDC7] text-xs",children:n+1})]},c)});return(0,l.jsx)(c.LB,{onDragStart:function(e){let{active:t}=e,[,l,r]=t.id.split("-");n(e=>{let t="".concat(l,"-").concat(r);return{...e,[t]:"dragging"}})},onDragEnd:function(e){let{over:l}=e,[,r,c]=e.active.id.split("-");if(null==l?void 0:l.id){let[,e,s]=l.id.split("-");if(t["".concat(e,"-").concat(s)]){n(e=>({...e,["".concat(r,"-").concat(c)]:"idle"}));return}n(t=>{let n={...t};return delete n["".concat(r,"-").concat(c)],n["".concat(e,"-").concat(s)]="idle",n})}else n(e=>({...e,["".concat(r,"-").concat(c)]:"idle"}))},modifiers:[d.lv],children:(0,l.jsxs)("div",{onScroll:function(e){let t=e.target,n=()=>{a(e=>[...e.slice(12),...e.slice(0,12)])},l=()=>{a(Array.from({length:72},(e,t)=>t%24))};if(h){let e=t.scrollTop+t.clientHeight>=t.scrollHeight-159,r=0===t.scrollTop;e&&(t.scrollTop=t.scrollTop-1908-88,n()),r&&l()}else{let e=t.scrollLeft+t.clientWidth>=t.scrollWidth-159,r=0===t.scrollLeft;e&&(t.scrollTo({left:t.scrollLeft-1908-88}),n()),r&&l()}},className:" container mx-auto my-2 sm:my-0 flex flex-col items-center sm:flex-row h-full relative flex-1 overflow-y-auto sm:overflow-x-auto sm:overflow-y-hidden ",children:[(0,l.jsx)(m,{tunning:e,keyName:"E"}),(0,l.jsx)("div",{className:" flex flex-col items-center sm:flex-row sm:justify-start mt-[8px] sm:mt-0 sm:ml-[8px] gap-2 ",children:g})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[246,130,215,744],()=>t(3550)),_N_E=e.O()}]);